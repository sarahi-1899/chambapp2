<div class="container mt-5 pt-3 pt-lg-4" *ngIf="!loading else cargando">

    <!-- Saludo -->
    <div class="row">
        <div class="col d-flex align-items-center">
            <div>
                <h3>{{getSaludoHora()}}</h3>
            </div>
        </div>
        <div class="col-3 d-flex align-items-center">
            <div class="contenedor">
                <img class="rounded" [src]="user.photoURL" alt="profile_picture" />
            </div>
        </div>
    </div>

    <!-- Buscador -->
    <div class="row d-flex justify-content-center my-4 px-0">
        <div class="col-8 mr-0">
            <input #busqueda (keyup.enter)="navigate('search/'+busqueda.value)" class="form-control" type="search"  placeholder="Buscar">
        </div>
        <div class="col-3 col-md-2 ml-0">
            <button (click)="navigate('search/'+busqueda.value)" class="btn btn-success btn-block" type="submit">
                <a style="text-decoration: none;" class="text-white">
                    <i class="fas fa-search"></i>
                </a>
            </button>
        </div>

    </div>

    <!-- Servicios recomendados -->
    <div class="row">
        <div class="col">
            <div>
                <h5>¡Nuestra selección para ti!</h5>
            </div>
        </div>
    </div>

    <!-- Cards de servicios -->
    <div class="card-deck">

        <div class="card pointer mx-auto" *ngFor="let card of servicios" (click)="navigate('servicio/' + card.username)" style="max-width: 400px;">
            <<img class="card-img" *ngIf="card.fotos && card.fotos.length > 0" [src]="card.fotos[0]" alt="Card image">
            <div class="card-img-overlay pointer">
                <h3 class="card-title text-white" style="text-shadow:1px 1px 10px #fff, 1px 1px 10px #ccc; mix-blend-mode: exclusion;">
                    {{card.nombre}}</h3>
            </div>
            <div class="card-body">
                <p class="card-text">{{card.descripcion}}</p>
            </div>
        </div>

    </div>

</div>

<!-- Spinner de cuando carga la pantalla -->
<ng-template #cargando>
    <app-loading></app-loading>
</ng-template>